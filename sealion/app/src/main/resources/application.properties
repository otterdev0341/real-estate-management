# -------------------------------------------------------------
# Default Configuration (applies to all profiles unless overridden)
# -------------------------------------------------------------
quarkus.http.port=8082

# Database configuration for development/production
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=sea_salt_user
quarkus.datasource.password=sea_salt_password
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:7777/practice
quarkus.datasource.jdbc.driver=org.postgresql.Driver
quarkus.liquibase.migrate-at-start=false
quarkus.liquibase.change-log=db/changelog/changelog-master.yaml


# Cloudflare
cloudflare.r2.access-key-id=0528093609cd80fc2eba23012e79a1cd
cloudflare.r2.secret-access-key=9808a6805dd45887f7fa49ffaafcd618cfcfa870c6916f07834d7d742e25d5e9
cloudflare.r2.bucket-name=sea-salt
cloudflare.r2.endpoint=https://6ecd6b71ca0abe469a0f38e19f84e350.r2.cloudflarestorage.com
cloudflare.r2.public-url-base=https://pub-6ecd6b71ca0abe469a0f38e19f84e350.r2.dev


# Hibernate configuration (Default profile, typically dev)
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.format-sql=true
quarkus.hibernate-orm.log.bind-parameters=true
quarkus.log.category."org.hibernate.SQL".level=DEBUG
quarkus.log.category."org.hibernate.type.descriptor.sql".level=TRACE
quarkus.hibernate-orm.packages=common.domain.entity

# Default logging settings
quarkus.log.level=INFO
quarkus.log.category."io.quarkus".level=DEBUG
logging.level.com.fasterxml.jackson=DEBUG

# JWT Configuration
mp.jwt.verify.issuer=sea-salt
quarkus.smallrye-jwt.enabled=true
mp.jwt.verify.publickey.location=classpath:META-INF/jwt/publicKey.pem
smallrye.jwt.sign.key.location=classpath:META-INF/jwt/privateKey.pem
quarkus.log.category."io.quarkus.smallrye.jwt".level=DEBUG
quarkus.log.category."io.quarkus.security".level=DEBUG

# Security permissions
quarkus.security.enabled=false
quarkus.http.auth.permission.permit1.paths=/users/register,/auth/login,/auth/test
quarkus.http.auth.permission.permit1.policy=permit
quarkus.http.auth.permission.authenticated.paths=/auth/*
quarkus.http.auth.permission.authenticated.policy=authenticated

# Swagger UI and debug logging
quarkus.log.category."io.quarkus.smallrye.openapi".level=DEBUG
quarkus.smallrye-openapi.path=/q/openapi
quarkus.log.category."io.quarkus.arc.processor".level=DEBUG
quarkus.log.category."io.quarkus.resteasy.reactive.server.runtime".level=DEBUG
quarkus.log.category."io.quarkus.jackson".level=DEBUG
quarkus.arc.scan=true

# resource
quarkus.test.resources=common.configuration.PostgreSqlResource

# Beans discovery for the 'contact' module
#quarkus.index-dependency.contact.group-id=org.otter
#quarkus.index-dependency.contact.artifact-id=contact

# Beans discovery for the 'auth' module
#quarkus.index-dependency.auth.group-id=org.otter
#quarkus.index-dependency.auth.artifact-id=auth


# Test user info for environment variables or similar use cases
test_email=test@gmail.com
test_password=password

# -------------------------------------------------------------
# Test Configuration (activated automatically during tests)
# -------------------------------------------------------------
# Use a separate port for tests to avoid conflicts
%test.quarkus.http.port=9090

# Use Dev Services for a temporary PostgreSQL container
%test.quarkus.datasource.devservices.image-name=postgres:15.2-alpine

# Use Liquibase for schema management
%test.quarkus.liquibase.migrate-at-start=true
%test.quarkus.liquibase.change-log=db/changelog/changelog-master.yaml

# Disable Hibernate's schema generation to avoid conflicts with Liquibase
%test.quarkus.hibernate-orm.database.generation=none